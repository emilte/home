[user]
	name = Emil Telstad
	email = emil.telstad@gmail.com
[pull]
	rebase = false
[core]
	editor = nano
[init]
	defaultBranch = master
[alias]
	co = switch
	s = status

	# Updates local default branch with latest changes from remote, no checkout needed.
	# https://stackoverflow.com/a/53667801/12616507
	pm = !BRANCH=$(git default) && echo "Pulling origin/$BRANCH into $BRANCH ..." && git fetch origin $BRANCH:$BRANCH && echo "Branch $BRANCH is now up to date."
	# pm = !"git stash | awk '/No local changes to save/' | grep . ; WAS_CLEAN=$? && git co $(git default) && git fetch --all && git pull && git co - && [ $WAS_CLEAN = 1 ] && git stash apply"
	current = rev-parse --abbrev-ref HEAD # Get name of current branch.
	default = !git remote show origin | awk '/HEAD branch/ {print $NF}' # Get name of default branch.
	fpush = !git push --force-with-lease origin $(git current)
	fix = commit --fixup
	olog = log --oneline
	# pr = !git pull && git pm && git rebase
	squash = rebase -i --autosquash # <branch>
	amend = commit --amend --verbose
	freset = !git reset --hard origin/$(git current) # Hard reset current branch.
	mr = !glab mr view --web

	# https://stackoverflow.com/a/3528483/12616507
	undo = reset --soft --keep HEAD~1 # Move HEAD back one commit, keep changes in staged.
	# redo = reset --mixed --keep HEAD@{1} # Move HEAD forward one commit.